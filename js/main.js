/** * Created by anton on 12.02.2018. */"use strict";galleryCertificatesModal('certificates1','certificates-modal1');galleryCertificatesModal('certificates2','certificates-modal2');galleryCertificatesModal('certificates3','certificates-modal3');galleryReviewModalArr();galleryReview();galleryLeftRightButton();hoverGalleryElemArr();upButton('up');upButton('main');hoverForInputTarget('inputTarget','buttonTarget','hover');hoverForInputTarget('inputTarget1','buttonTarget1','hover');secondFixedMenuScroll('second-fixed-menu','main-header');fixedMenuLinkToBlock('services','services-company');fixedMenuLinkToBlock('advantages','our-plus');fixedMenuLinkToBlock('certificates','certificates-block');fixedMenuLinkToBlock('supply','manufacturers');fixedMenuLinkToBlock('gallery','gallery-block');fixedMenuLinkToBlock('reviews','reviews-block');fixedMenuLinkToBlock('contacts','contacts-block');fixedMenuLinkToBlock('a','main-block');fixedMenuLinkToBlock('b','services-company');fixedMenuLinkToBlock('c','our-plus');fixedMenuLinkToBlock('d','certificates-block');fixedMenuLinkToBlock('e','manufacturers');fixedMenuLinkToBlock('f','gallery-block');fixedMenuLinkToBlock('g','reviews-block');fixedMenuLinkToBlock('h','contacts-block');addClsScrollInMainFixedMenuArrWork(    ['main','services','advantages','certificates','supply','gallery','reviews','contacts'],    ['main-block','services-company','our-plus','certificates-block','manufacturers','gallery-block','reviews-block',    'contacts-block'],    'hover-elem-menu',    ['a','b','c','d','e','f','g','h'],    'active');function hoverForInputTarget(inptTargt,btnTargt,addCls) {    var inputTarget = document.getElementById(inptTargt);    var buttonTarget = document.getElementById(btnTargt);    inputTarget.onmouseover = function () {      if(!buttonTarget.classList.contains(addCls)){          buttonTarget.classList.add(addCls)      }    };    inputTarget.onmouseout = function () {        if(buttonTarget.classList.contains(addCls)){            buttonTarget.classList.remove(addCls);        }    };};function secondFixedMenuScroll(idSecondMenu,idMainHeader) {    var idSecond = document.getElementById(idSecondMenu);    var idMain = document.getElementById(idMainHeader);    var idMainMenuCoordinate = idMain.getBoundingClientRect();    window.addEventListener('scroll',function () {        if (pageYOffset >= idMainMenuCoordinate.height) {            idSecond.style.cssText = 'top:0px;';        };        if (pageYOffset < idMainMenuCoordinate.height) {            idSecond.style.cssText = 'top:-80px;';        };    });};function addClsScrollInMainFixedMenu(idElemFixedMenu,idPageDIV,cls,dot,dotCls) {    var idFIXMenu = document.getElementById(idElemFixedMenu);    var idDIV = document.getElementById(idPageDIV);    var secondFixMenu = document.getElementById('second-fixed-menu');    var dotElem = document.getElementById(dot);    var idDIVCoord = idDIV.getBoundingClientRect();    var secondFixMenuCoord = secondFixMenu.getBoundingClientRect();    var idDIVCoordTOP = pageYOffset + idDIVCoord.top + secondFixMenuCoord.top;    var idDIVCoordBOTTOM = pageYOffset + idDIVCoord.bottom + secondFixMenuCoord.top;    window.addEventListener('scroll',function () {        // up(pageYOffset);        if (pageYOffset >= idDIVCoordTOP && pageYOffset <= idDIVCoordBOTTOM) {            idFIXMenu.classList.add(cls);            dotElem.classList.add(dotCls);        } else {            idFIXMenu.classList.remove(cls);            dotElem.classList.remove(dotCls);        };    });};function addClsScrollInMainFixedMenuArrWork(arrIdElemFixedMenu,arrIdPageDIV,cls,dotArr,dotCls) {    for(var i = 0; i < arrIdElemFixedMenu.length; i++){        addClsScrollInMainFixedMenu(arrIdElemFixedMenu[i],arrIdPageDIV[i],cls,dotArr[i],dotCls);    }};function upButton(id_elem) {    var id = document.getElementById(id_elem);    id.onclick = function () {        var timer = setInterval(function () {            window.scrollBy(0,-50);            pageYOffset == 0 ? clearInterval(timer) : false;        },13)    }};function fixedMenuLinkToBlock(idElemClick,scrollToElem) {    var idElem = id(idElemClick);    var idToScrollElem = id(scrollToElem);    var idToScrollElemCoord = idToScrollElem.getBoundingClientRect();    var idToScrollElemTopCoord = idToScrollElemCoord.top;    idElem.onclick = function () {        if(pageYOffset <= idToScrollElemTopCoord){            var timer = setInterval(function () {                window.scrollBy(0,50);                if(pageYOffset >= idToScrollElemTopCoord){                    clearInterval(timer);                    window.scrollTo(0,idToScrollElemTopCoord - 50);                };            },13)        };        if(pageYOffset >= idToScrollElemTopCoord){            var timer = setInterval(function () {                window.scrollBy(0,-50);                if(pageYOffset <= idToScrollElemTopCoord){                    clearInterval(timer);                    window.scrollTo(0,idToScrollElemTopCoord - 50);                };            },13)        };    };};function up(data) {    document.getElementById('up').innerHTML = data + '';};function id(id) {    return document.getElementById(id);};function allOK(log) {    if(arguments[0] == undefined) console.log('all ok');    else console.log();};function hoverGalleryElem(idElem,idBlueBG,idTextColor,idImgContainer,idClosElem) {    var idHover = id(idElem);    var opacityBG = id('blackOpacityBackground');    var imgContainer = id(idImgContainer);    var blueBG = id(idBlueBG);    var textColor = id(idTextColor);    var closeElem = id(idClosElem);    idHover.addEventListener('mouseover', function () {        blueBG.style.opacity = '0.5';        textColor.style.color = '#3b91ff';    });    idHover.addEventListener('mouseout', function () {        blueBG.style.opacity = '0';        textColor.style.color = '#000';    });    function galleryElemModal() {        idHover.onclick = function () {            id('blackOpacityBackground').style.display = 'inline';            opacityUP(opacityBG);            galleryItemShow();        };        id('blackOpacityBackground').onclick = function () {            opacityDOWN(opacityBG);            galleryItemHide();        };        closeElem.onclick = function () {            opacityDOWN(opacityBG);            galleryItemHide();        }    };    galleryElemModal();    function galleryItemShow() {        var opacity = 0;        imgContainer.style.display = 'inline';        var timer = setInterval(function () {            opacity += 0.04;            //из за того что imgContainer  найдет как id перекрывает свойства css и при единовременном            //срабатывании обработчика он ведет себя не так как нужно            imgContainer.style.opacity = opacity;            if(opacity > 1){                clearInterval(timer);            }        },25)    }    function galleryItemHide() {        var opacity = 1;        var timer = setInterval(function () {            opacity -= 0.04;            imgContainer.style.opacity = opacity;            if(opacity < 0){                clearInterval(timer);                // imgContainer.style.opacity = 0;                imgContainer.style.display = 'none';            }        },25)    }    function opacityUP(idElemOpacity) {        var opacity = 0;        var timer = setInterval(function () {            opacity += 0.02;            idElemOpacity.style.opacity = opacity;            if (opacity >= 0.5){                clearInterval(timer);            }        },25)    }    function opacityDOWN(idElemOpacity) {        var opacity = 0.5;        var timer = setInterval(function () {            opacity -= 0.02;            idElemOpacity.style.opacity = opacity;            if (opacity <= 0){                clearInterval(timer);                idElemOpacity.style.opacity = 0;                opacityBG.style.display = 'none';            }        },25);    }}function hoverGalleryElemArr() {    var currentItemGallery = 'currentItemGallery-';    var blueBg = 'blue-bg-';    var textColor = 'textColor-';    var imgContainer = 'img-container-';    var faTimes = 'fa-times-';    for (var i = 1; i <= 10; i++){        hoverGalleryElem(currentItemGallery+i,blueBg+i,textColor+i,imgContainer+i,faTimes+i);    }}function galleryLeftRightButton() {    var arrowCircleLeft = id('arrowCircleLeft');    var arrowCircleRight = id('arrowCircleRight');    var firstRow = id('firstRow');    var secondRow = id('secondRow');    var count = 0;    var right = 0;    arrowCircleRight.onclick = function () {        right += 450;        if(count === 2){            right = 0;            count = 0;        } else count++;        firstRow.style.right = right + 'px';        secondRow.style.right = right + 'px';    };    arrowCircleLeft.onclick = function () {        right -= 450;        if(count == 0){            right = 0;            count = 0;        } else count--;        firstRow.style.right = right + 'px';        secondRow.style.right = right + 'px';    };}function galleryReview() {    var left = id('for-reviews-left');    var right = id('for-reviews-right');    var imgSlider = id('img-slider');    var leftCss = 0;    var count = 0;    right.onclick = function () {        leftCss -= 466;        if(count == 2){            leftCss = 0;            count = 0;        } else count++;        imgSlider.style.left = leftCss + 'px';    };    left.onclick = function () {        leftCss += 466;        if(count == 0){            leftCss = 0;            count = 0;        } else {            count--;        }        imgSlider.style.left = leftCss + 'px';    };}function galleryReviewModal(idElem,idElemModal) {    id(idElem).onclick = function () {        opacityUP('blackOpacityBackground');        opacityFullUP(idElemModal);        opacityFullUP('review-modal-left');        opacityFullUP('review-modal-right');        id('blackOpacityBackground').onclick = function () {            opacityDOWN('blackOpacityBackground');            opacityFullDOWN(idElemModal);            opacityFullDOWN('review-modal-left');            opacityFullDOWN('review-modal-right');        }    };};function galleryReviewModalArr() {    var review = 'review';    var reviewModal = 'review-modal';    for (var i = 1; i <= 5; i++) {        galleryReviewModal(review+i,reviewModal+i);    }}function opacityUP(idElemOpacity) {    var elemOpacity = id(idElemOpacity);    var opacity = 0;    elemOpacity.style.display = 'inline';    var timer = setInterval(function () {        opacity += 0.02;        elemOpacity.style.opacity = opacity;        if (opacity >= 0.5){            clearInterval(timer);        }    },25)}function opacityFullUP(idElemOpacity) {    var elemOpacity = id(idElemOpacity);    var opacity = 0;    elemOpacity.style.display = 'inline';    var timer = setInterval(function () {        opacity += 0.04;        elemOpacity.style.opacity = opacity;        if (opacity >= 1){            clearInterval(timer);        }    },25)}function opacityDOWN(idElemOpacity) {    var elemOpacity = id(idElemOpacity);    var opacity = 0.5;    var timer = setInterval(function () {        opacity -= 0.02;        elemOpacity.style.opacity = opacity;        if (opacity <= 0){            clearInterval(timer);            elemOpacity.style.opacity = 0;            elemOpacity.style.display = 'none';        }    },25);}function opacityFullDOWN(idElemOpacity) {    var elemOpacity = id(idElemOpacity);    var opacity = 1;    var timer = setInterval(function () {        opacity -= 0.04;        elemOpacity.style.opacity = opacity;        if (opacity <= 0){            clearInterval(timer);            elemOpacity.style.opacity = 0;            elemOpacity.style.display = 'none';        }    },25);}function galleryCertificatesModal(idElem,idElemModal) {    id(idElem).onclick = function () {        opacityUP('blackOpacityBackground');        opacityFullUP(idElemModal);        // opacityFullUP('certificates-modal-left');        // opacityFullUP('certificates-modal-right');        id('blackOpacityBackground').onclick = function () {            opacityDOWN('blackOpacityBackground');            opacityFullDOWN(idElemModal);            // opacityFullDOWN('certificates-modal-left');            // opacityFullDOWN('certificates-modal-right');        }    };};