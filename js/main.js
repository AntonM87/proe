/** * Created by anton on 12.02.2018. */"use strict";var $ = {    scroll: undefined,    elem_id: undefined,    page_YOffset: undefined,    id: function (value) {        this.elem_id = document.getElementById(value);        return this;    },    css: function (str) {        this.elem_id.style.cssText = str;        return this;    },    inner: function (str) {        this.elem_id.innerHTML = str + '';        return this;    },    click: function (func) {        this.elem_id.onclick = func;        return this;    },    mouseover: function (func) {        this.elem_id.onmouseover = func;        return this;    },    mouseout: function (func) {        this.elem_id.onmouseout = func;        return this;    }};$.id('inputTarget').mouseover(function () {    var buttonTarget = document.getElementById('buttonTarget');    if(!buttonTarget.classList.contains('hover')){        buttonTarget.classList.add('hover');    }});$.id('inputTarget').mouseout(function () {    var buttonTarget = document.getElementById('buttonTarget');    if(buttonTarget.classList.contains('hover')){        buttonTarget.classList.remove('hover');    }});function secondFixedMenu() {    if (window.pageYOffset > 120) {        $.id('second-fixed-menu').css(            'top:0px;'        )    }    if (window.pageYOffset < 120) {        $.id('second-fixed-menu').css(            'top:-240px;'        )    }}// получение объекта координат и свойств getBoundingClientRectfunction getCoords(id) {    var elem = document.getElementById(id);    var objCoord = elem.getBoundingClientRect();    return {        top: (objCoord.top + pageYOffset).toFixed(),        bottom: (objCoord.bottom +pageYOffset).toFixed(),        left: (objCoord.left + pageXOffset).toFixed(),        height: objCoord.height.toFixed(),        width: objCoord.width.toFixed()    }};//id элемент которому будет присвоен классfunction addClassScroll(id,targetElemID,cls) {    var ID = document.getElementById(id);    var coord = getCoords(targetElemID);    var blockHeight = parseInt(coord.height) + parseInt(coord.top);    if(coord.top <= (pageYOffset) && blockHeight >= pageYOffset){        ID.classList.add(cls);    }    else {        ID.classList.remove(cls);    }};//addClassScroll перердана в функцию для работы с массивом аргументов и далее просто добавлены аргументыfunction addClassScrollArrayWork(arrID,arrTargetElemID,cls) {    for (var i = 0; i < arguments[0].length; i++){        addClassScroll(arguments[0][i],arguments[1][i],cls)    }}//кнопка на верх$.id('up').click(function () {    var timer = setInterval(function () {        window.scrollBy(0, -100);        if(pageYOffset == 0){            clearInterval(timer);        }    },10);});//ссылка на элемент в фиксированном меню => главная$.id('main').click(function () {    var timer = setInterval(function () {        window.scrollBy(0, -100);        if(pageYOffset == 0){            clearInterval(timer);        }    },25);});$.id('a').click(function () {    var timer = setInterval(function () {        window.scrollBy(0, -100);        if(pageYOffset == 0){            clearInterval(timer);        }    },25);});//ссылка на элемент в фиксированном менюfunction linkFixedMenu(idElem,targetElem) {    var id = document.getElementById(idElem);    var targetElemCoord = getCoords(targetElem);    var indentation = 150; //отступ    var upScroll = -100;    var downScroll = 100;    id.onclick = function () {        if(pageYOffset <= targetElemCoord.top){            var timerUP = setInterval(function () {                window.scrollBy(0,downScroll);                if (pageYOffset >= targetElemCoord.top - indentation){                    clearInterval(timerUP);                }            },25)        }        if(pageYOffset > targetElemCoord.top || pageYOffset == 0) {            var timerDOWN = setInterval(function () {                window.scrollBy(0,upScroll);                if (pageYOffset <= targetElemCoord.top - indentation){                    clearInterval(timerDOWN);                }            },25)        }    }};function linkFixedMenuArrayElem(arrIdElem,arrTargetElem) {    for (var i = 0; i < arguments[0].length; i++){        linkFixedMenu(arguments[0][i],arguments[1][i]);    }}linkFixedMenuArrayElem([    'services',    'advantages',    'certificates',    'supply',    'gallery',    'reviews'],[    'services-target',    'other-target',    'our-target',    'certificates-target',    'manufacturers-target',    'gallery-target']);// из за не продуманной верстки оптимальная функция работает не корректноwindow.onscroll = function () {    // document.getElementById('up').innerHTML = pageYOffset + '';    secondFixedMenu();    addClassScrollArrayWork([        'main',        'services',        'advantages',        'certificates',        'supply',        'gallery',        'reviews'    ],[        'main-block',        'services-company',        'other-services',        'our-plus',        'certificates-block',        'manufacturers',        'gallery-block'    ],'for-hover-elem-menu');    addClassScrollArrayWork([        'a',        'b',        'c',        'd',        'e',        'f',        'g',        'h'    ],[        'main-block',        'services-company',        'other-services',        'our-plus',        'certificates-block',        'manufacturers',        'gallery-block'    ],'active');};linkFixedMenuArrayElem([    'b',    'c',    'd',    'e',    'f',    'g',    'h'],[    'services-company',    'other-services',    'our-plus',    'certificates-block',    'manufacturers',    'gallery-block']);// из за не продуманной верстки оптимальная функция работает не корректно